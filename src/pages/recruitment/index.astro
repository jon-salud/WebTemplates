---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navigation from '../../components/layout/Navigation';
import { Hero, Services, Benefits, Testimonials, CTA, LogoMarquee, Footer } from '../../components/sections';
import { getIndustryConfig } from '../../config/industries';

const industry = getIndustryConfig('recruitment');
---

<BaseLayout 
  title={industry.hero.headline}
  description={industry.hero.subheadline}
  industry={industry.name}
  industryConfig={industry}
>
  <!-- Industry Selector (for demo purposes) -->
  <div class="fixed bottom-4 right-4 z-50">
    <div class="bg-white rounded-xl shadow-card-hover p-4">
      <p class="text-xs text-neutral-500 mb-2 uppercase tracking-wider">Switch Industry</p>
      <select 
        id="industry-selector"
        class="w-full px-3 py-2 rounded-lg border border-neutral-200 text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary"
      >
        <option value="accounting">Accounting Firm</option>
        <option value="law">Law Firm</option>
        <option value="healthcare">Healthcare Practice</option>
        <option value="consulting">Consulting Firm</option>
        <option value="financial">Financial Advisory</option>
        <option value="realestate">Real Estate Agency</option>
        <option value="insurance">Insurance Agency</option>
        <option value="architecture">Architecture Studio</option>
        <option value="education">Education Center</option>
        <option value="recruitment" selected>Recruitment Agency</option>
      </select>
    </div>
  </div>

  <Navigation client:load industry={industry} />
  
  <main class="flex-1">
    <Hero 
      client:load 
      industry={industry} 
      showBadge={true}
      badgeText="10,000+ successful placements"
      variant="floating-elements"
      headlineSegments={[
        { text: 'Build', weight: 'light' },
        { text: ' Winning ', weight: 'bold' },
        { text: 'Teams', weight: 'extrabold' },
      ]}
    />
    
    <LogoMarquee 
      client:visible 
      title="Trusted by leading companies"
      logos={[
        { name: 'LinkedIn' },
        { name: 'Indeed' },
        { name: 'Glassdoor' },
        { name: 'Monster' },
        { name: 'ZipRecruiter' },
        { name: 'CareerBuilder' },
        { name: 'Dice' },
        { name: 'AngelList' },
      ]}
    />
    
    <Services 
      client:visible 
      industry={industry}
      variant="spotlight"
    />
    
    <Benefits 
      client:visible 
      industry={industry}
      variant="icon-list"
    />
    
    <Testimonials 
      client:visible 
      industry={industry}
      variant="side-scroll"
    />
    
    <CTA 
      client:visible 
      industry={industry}
      variant="banner"
    />
  </main>
  
  <Footer client:visible industry={industry} showNewsletter={true} variant="modern-grid" />
</BaseLayout>

<script>
  // Industry selector functionality
  const selector = document.getElementById('industry-selector');
  if (selector) {
    selector.addEventListener('change', (e) => {
      const industry = (e.target as HTMLSelectElement).value;
      const routes: { [key: string]: string } = {
        'accounting': '/accounting/',
        'law': '/law/',
        'healthcare': '/healthcare/',
        'consulting': '/consulting/',
        'financial': '/financial/',
        'realestate': '/realestate/',
        'insurance': '/insurance/',
        'architecture': '/architecture/',
        'education': '/education/',
        'recruitment': '/recruitment/',
      };
      window.location.href = routes[industry] || '/recruitment/';
    });
  }
</script>
