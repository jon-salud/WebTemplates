---
interface GalleryItem {
    title: string;
    subtitle: string;
    gradient?: string;
}

interface Props {
    industry?: any;
    images?: string[];
    items?: GalleryItem[];
}

const { images, items } = Astro.props;

const defaultItems = [
    {
        title: "Neon Rooftop",
        subtitle: "Live Mix",
        gradient: "from-indigo-500/60 via-sky-400/40 to-teal-400/30",
    },
    {
        title: "Immersive Atrium",
        subtitle: "Stage Build",
        gradient: "from-fuchsia-500/50 via-rose-500/40 to-amber-400/30",
    },
    {
        title: "Festival Courtyard",
        subtitle: "Lighting Pass",
        gradient: "from-amber-400/50 via-orange-500/40 to-pink-500/30",
    },
    {
        title: "Art Basel Loft",
        subtitle: "Install Prep",
        gradient: "from-emerald-500/50 via-lime-400/40 to-yellow-300/30",
    },
];

const displayItems = items || defaultItems;
---

<section class="py-20" aria-label="Showcase gallery">
    <div class="container mx-auto px-6">
        <div class="flex items-center justify-between mb-10">
            <div>
                <p
                    class="text-xs uppercase tracking-[0.4em] text-neutral-400 mb-3"
                >
                    Showcase
                </p>
                <h3 class="text-3xl md:text-4xl font-semibold text-neutral-900">
                    Spaces we designed this season
                </h3>
            </div>
            <span
                class="hidden md:inline-flex text-sm font-medium text-neutral-500"
                >Scroll to explore â†’</span
            >
        </div>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            {
                displayItems.map((item, idx) => (
                    <div
                        class="h-48 md:h-64 rounded-3xl overflow-hidden relative shadow-xl bg-neutral-900 group"
                        aria-label={item.title}
                    >
                        {images && images[idx] ? (
                            <img
                                src={images[idx]}
                                alt={item.title}
                                loading="lazy"
                                class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            />
                        ) : (
                            <div
                                class={`absolute inset-0 bg-gradient-to-br ${item.gradient || "from-gray-800 to-black"}`}
                            />
                        )}

                        <div class="absolute inset-0 opacity-30 bg-gradient-to-b from-white/30 to-transparent pointer-events-none" />
                        <div
                            class="absolute inset-0 opacity-60 pointer-events-none"
                            style="background: radial-gradient(circle at top, rgba(255,255,255,0.25), transparent 55%);"
                        />
                        <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent text-white flex items-center justify-between text-sm">
                            <span class="font-semibold drop-shadow-md">
                                {item.title}
                            </span>
                            <span class="opacity-80 drop-shadow-md">
                                {item.subtitle}
                            </span>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</section>
